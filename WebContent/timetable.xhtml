<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">
<h:head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />

	<h:outputStylesheet library="css" name="bootstrap.min.css" />

	<title>Raspored časova</title>
</h:head>
<h:body>
	<div class="row">
		<h:form>
			<div class="col-sm-3">
				<div class="row">
					<h:selectOneMenu id="timetableTeachers" required="true"
						value="#{timetableController.selectedTeacher}"
						converter="#{teacherConverter}">
						<f:selectItem itemLabel="-- Izaberite profesora --"
							itemValue="#{null}" />
						<f:selectItems value="#{timetableController.listTeachers()}"
							var="teacher" itemLabel="#{teacher.toString()}"
							itemValue="#{teacher}" />
						<f:ajax event="change" execute="@this" render="@all"
							listener="#{timetableController.getTimetableForTeacher()}" />
					</h:selectOneMenu>
				</div>

				<div class="row">
					<h:selectOneMenu id="timetableGroups" required="true"
						value="#{timetableController.selectedGroup}"
						converter="#{groupConverter}">
						<f:selectItem itemLabel="-- Izaberite grupu --"
							itemValue="#{null}" />
						<f:selectItems value="#{timetableController.listGroups()}"
							var="group" itemLabel="#{group.toString()}" itemValue="#{group}" />
						<f:ajax event="change" execute="@this" render="@all"
							listener="#{timetableController.getTimetableForGroup()}" />
					</h:selectOneMenu>
				</div>

				<div class="row">
					<h:selectOneMenu id="timetableRooms" required="true"
						value="#{timetableController.selectedRoom}"
						converter="#{roomConverter}">
						<f:selectItem itemLabel="-- Izaberite ucionicu --"
							itemValue="#{null}" />
						<f:selectItems value="#{timetableController.listRooms()}"
							var="room" itemLabel="#{room.toString()}" itemValue="#{room}" />
						<f:ajax event="change" execute="@this" render="@all"
							listener="#{timetableController.getTimeTableForRoom()}" />
					</h:selectOneMenu>
				</div>
			</div>
		</h:form>

		<div class="col-sm-9">
			<div class="page-header">
				<h2>Raspored časova</h2>
			</div>

			<div class="row">
				<h:form>
					<h:commandLink action="#{timetableController.download()}"
						value="Preuzmi tts fajl" immediate="true" />
				</h:form>
			</div>

			<div class="row">
				<h:outputLabel value="#{timetableController.heading}" />
			</div>

			<div class="row"></div>
		</div>
	</div>
</h:body>
</html>