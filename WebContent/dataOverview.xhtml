<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">
<h:head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />

	<h:outputStylesheet library="css" name="bootstrap.min.css" />
	<h:outputStylesheet library="css" name="bootstrap-theme.min.css" />
	<h:outputStylesheet library="css" name="style.css" />

	<title>Pregled podataka</title>
</h:head>
<h:body>
	<h:outputLabel value="DobrodoÅ¡li, #{loginController.user.firstName}"
		rendered="#{not empty user}" />
	<br />
	<br />
	<h:form id="contentForm" onkeypress="return event.keyCode != 13;">
		<h:messages layout="table" globalOnly="true" infoClass="bg-success"
			errorClass="bg-danger" />
			
		<rich:tabPanel id="dataOverviewTabPanel" switchType="ajax"
			immediate="true" rendered="#{not empty user}"
			activeItem="#{loginController.activeTab}"
			styleClass="panel panel-primary" bodyClass="panel-body">
			
			<rich:tab header="#{msg['admin_page']}" name="admin"
				rendered="#{user.type eq 2}">
				<h2>#{msg['admin_page']}</h2>
				<ui:include src="/admin.xhtml" />
			</rich:tab>
			<rich:tab header="#{msg['periods']}" name="periods">
				<h2>#{msg['heading.periods']}</h2>
				<ui:include src="/periods.xhtml" />
			</rich:tab>
			<rich:tab header="#{msg['users']}" name="users">
				<h2>#{msg['heading.users']}</h2>
				<ui:include src="/users.xhtml" />
			</rich:tab>
			<rich:tab header="#{msg['rooms']}" name="rooms">
				<h2>#{msg['heading.rooms']}</h2>
				<ui:include src="/rooms.xhtml" />
			</rich:tab>
			<rich:tab header="#{msg['groups']}" name="groups">
				<h2>#{msg['heading.groups']}</h2>
				<ui:include src="/groups.xhtml" />
			</rich:tab>
			<rich:tab header="#{msg['subjects']}" name="subjects">
				<h2>#{msg['heading.subjects']}</h2>
				<ui:include src="/subjects.xhtml" />
			</rich:tab>
			<rich:tab header="#{msg['restrictions']}" name="restrictions">
				<h2>#{msg['heading.restrictions']}</h2>
				<ui:include src="/restrictions.xhtml" />
			</rich:tab>
			<rich:tab header="#{msg['availabilities']}" name="availability">
				<h2>#{msg['heading.availabilities']}</h2>
				<ui:include src="/availability.xhtml" />
			</rich:tab>
			<rich:tab header="#{msg['lessons']}" name="lessons">
				<h2>#{msg['lessons']}</h2>
				<ui:include src="/lessons.xhtml" />
			</rich:tab>
		</rich:tabPanel>
	</h:form>
	
	<h:form id="logoutForm" styleClass="text-right">
		<h:commandButton value="#{msg.logout}" action="#{loginController.logout()}"
			rendered="#{not empty user}" styleClass="btn btn-lg btn-warning logout-btn" />
	</h:form>
</h:body>
</html>